{"version":3,"names":[],"mappings":"","sources":["index.js"],"sourcesContent":["/* global floor */\r\nvar Nth = require('./classes/Nth');\r\n\r\n// Globals\r\nvar stretch = false,\r\n  game,\r\n  $count,\r\n  $nth,\r\n  $title,\r\n  $message,\r\n  $showUpgrades,\r\n  $upgrades,\r\n  $intro,\r\n  $timer,\r\n  $goal,\r\n  $names;\r\n/**\r\n * Wrapper\r\n */\r\nfunction dg (el) {\r\n  return document.getElementById(el);\r\n}\r\n\r\n/**\r\n * Changes the body font\r\n */\r\nfunction changeFont () {\r\n  if (stretch) {\r\n    document.body.style['font-family'] = 'Nu';\r\n    stretch = !stretch;\r\n  } else {\r\n    document.body.style['font-family'] = 'NK';\r\n    stretch = !stretch;\r\n  }\r\n  $message.innerHTML = 'font changed';\r\n}\r\n\r\n/**\r\n * P5 setup\r\n */\r\nwindow.setup = function () {\r\n\r\n  // Elements\r\n  $count = dg('count');\r\n  $nth = dg('nth');\r\n  $title = dg('title');\r\n  $message = dg('message');\r\n  $showUpgrades = dg('showUpgrades');\r\n  $upgrades = dg('upgrades');\r\n  $intro = dg('intro');\r\n  $timer = dg('timer');\r\n  $goal = dg('goal');\r\n  $names = document.querySelectorAll('.name');\r\n\r\n  game = new Nth({\r\n    $count: $count,\r\n    $message: $message,\r\n    $upgrades: $upgrades,\r\n    $showUpgrades: $showUpgrades,\r\n    $timer: $timer,\r\n    $intro: $intro,\r\n  });\r\n  game.intialize();\r\n\r\n  // Handlers\r\n  $title.onclick = changeFont;\r\n  $nth.onclick = game.addCount.bind(game);\r\n  $names.forEach(function (name) {\r\n    name.onclick = function () {\r\n      game.purchase(name.parentElement.id);\r\n    };\r\n  });\r\n  $showUpgrades.onclick = game.showUpgrades.bind(game);\r\n  $goal.innerHTML = 'goal: ' + game.goal;\r\n  game.runTimer();\r\n};\r\n\r\n/**\r\n * P5 draw\r\n */\r\nwindow.draw = function () {\r\n  // Update the dom, internal adders, and growthRate\r\n  if (game.addersChanged) {\r\n    game.updateAddersAndGrowthRate();\r\n  }\r\n  // Increased the game count if not paused or calculating\r\n  if (game.calculating) {\r\n  } else if (game.paused) {\r\n  } else {\r\n    game.grow();\r\n    // Show this increase\r\n    $count.innerHTML = floor(game.count);\r\n  }\r\n};\r\n"],"file":"../index.js"}